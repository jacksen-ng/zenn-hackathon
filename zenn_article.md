# 新木場PJ プロジェクト説明記事
### (コメント)ここを変える

## 1. プロジェクト概要
本プロジェクトでは、授業や会議のPDFをアップロードすることで、自動的にナレッジベースを構築し、文脈を理解した検索と回答を可能にするチャットボットを開発 しました。従来、過去の会議資料や講義ノートを活用しようとしても、キーワード検索では必要な情報を的確に見つけることができず、資料を読み返す手間がかかるという課題がありました。本システムでは、RAG（Retrieval-Augmented Generation）を活用し、自然言語で質問するだけで関連する情報を即座に取得できる ようにすることで、情報検索の効率を向上させました。

## 2. 対象ユーザーとその課題、課題へのソリューションと特徴（ⅰ）
### ・対象ユーザー像
本プロジェクトが対象とするユーザーは、以下のようなユーザー層です。

#### 学生・研究者
 授業の講義資料や論文をPDFでアップロードし、重要な用語や内容をすぐに検索・質問できる。
 学会発表やレポート作成時に、過去の資料、論文などを簡単に参照できる。

#### 企業の会議参加者・ビジネスパーソン
  会議の議事録をPDFとして保存し、過去の会議内容を素早く検索できる。
 新しいメンバーが過去の会議の流れを素早くキャッチアップできる。

#### 法律・契約関連の専門家
  法律文書や契約書の内容をPDFで取り込み、質問形式で条文や規約を素早く確認できる。
 過去の判例や規約との比較をしながら業務を進められる。

#### 医療・科学技術分野の専門家
  医療論文や研究データをアップロードし、素早く用語や内容を検索できる。
 病院の診療ガイドラインや医薬品情報を効率的に検索・参照可能。

#### 教育機関・企業の研修担当者
  社内研修資料をRAG化し、新入社員や受講者が自由に質問できる環境を作れる。
 eラーニングコンテンツを補強し、よりインタラクティブな学習を提供できる。

#### 特に、情報を多く扱う職業・学習環境において、過去の知識を素早く引き出す必要がある人にとって非常に便利なシステムになりそう


### ・課題
- 従来、大量の会議資料や講義ノートから必要な情報を探すには時間がかかり、キーワード検索では文脈を考慮できず、的確な情報にたどり着きにくいという課題がありました。また、知識が特定の個人に依存しやすく、新しいメンバーが過去の会議や授業の内容をスムーズにキャッチアップするのが難しいという問題も存在します。さらに、会議や授業の資料は保存されても実際には活用されにくく、必要なときに開かないと使えないため、検索性が低く埋もれてしまいがちでした。

### ・ソリューション
本システムでは、RAG（Retrieval-Augmented Generation） を活用し、PDFをアップロードするだけで、自然言語での質問に対する回答を生成できるチャットボット を構築しました。これにより、過去の会議記録や講義ノートを「即座に検索・活用できるナレッジベース」として機能させ、情報の属人化を防ぎ、検索性を向上させます。



### ・特徴

#### RAGについて
- ドキュメントベースの回答生成
  - 事前に保存したテキストデータを活用し、質問に対する回答を生成。
  - FAISS による類似検索で、質問に最も関連性の高い情報を取得し、的確な回答を提供。
  - Gemini API を組み合わせることで、検索結果をもとに自然な文章で応答可能。

- ベクトル検索による情報抽出
  -  sentence-transformers/all-mpnet-base-v2 を活用した高精度な埋め込み処理を実装。
  - FAISS による高速検索で、大規模データから即座に関連情報を抽出可能。 
  -  キーワードマッチではなく、意味ベースの検索が可能で、より精度の高い回答を実現。

- 履歴を考慮した質問のリフレーミング
  - 過去の会話履歴をもとに、質問の意味を補完・再構成する機能を搭載。
  - RunnableWithMessageHistory により、前後の文脈を維持しながら質問を整理し、より適切な回答を提供。
  -  ユーザーが簡潔な質問をしても、適切なコンテキストを追加して最適な回答を生成可能。

- セッションごとの履歴管理
  - InMemoryChatMessageHistory により、会話ごとに独立した履歴を保存し、文脈を維持。
  - 過去の会話を保持することで、途中で話題が変わってもスムーズに対応可能。
  - 履歴のクリア機能を搭載し、新しい会話を開始することも容易に実現。

- 軽量かつ高速な情報検索・回答生成
  - FAISS によるベクトル検索により、大規模データでも高速に検索が可能。
  - RAG と Gemini API の組み合わせにより、即座に回答を生成し、リアルタイムで利用可能。
  - 軽量設計のため、クラウド環境でもスムーズに動作し、高速なレスポンスを提供。


###  UIについて
- ウィンドウサイズが変わっても崩れない設計
  - 全体の大きさや位置が固定されているため、スクロールやリサイズによるレイアウトの崩れがなく、どんな画面サイズでも同じ操作感で利用できます。

- メッセージ背景の調整で読みやすい
  - メッセージの背景サイズが内容に応じて動的に調整され、長文でも見やすく折り返し表示されます。これにより、短いメッセージも長いメッセージも違和感なく表示されます。

- モデル切り替えで柔軟な利用
  - モデル切り替え（例: Gemini モードと RAG モード）をモーダル内に配置し、クリックひとつで選択可能。複数のタスクや回答形式に対応しやすく、使い分けを直感的に行えます。

- シンプルで使いやすい操作性：
  - 画面下部に固定されたメッセージ入力欄と送信ボタンにより、初心者でも直感的に利用可能。余計な装飾を省き、操作に集中できるシンプルなデザイン。

### (コメント)以下に上みたいな感じでそれぞれ手つけたものの特徴まとめて

## 3. システムアーキテクチャ（ⅱ）
### (コメント)技術スタックそれぞれ書いて欲しいです　アーキテクチャはGPTが生成してくれたの残してるけど何もいじってない

### 技術スタック
- フロントエンド：Vite + React
- バックエンド：

- データベース：

- デプロイ：


下記はシステムアーキテクチャを示す概略図です。

                              ┌─────────────┐
                              │　フロント 　  │
                              │　エンド（Web）│
                              └──────┬──────┘
                                     │
                                     ▼
                              ┌─────────────┐
                              │ FastAPI API │
                              │ サーバ       │
                              └──────┬──────┘
             ┌─────────────────────────────┐
             │           │                 │
             ▼           ▼                 ▼
    ┌---------------┐  ┌---------------┐  ┌-------------┐
    │　認証・セッション│  │　ドキュメント　　│  │   チャット 　 │
    │　管理モジュール　│  │　解析モジュール　│  │  エンジン  　 │
    └---------------┘  └---------------┘  └-------------┘
             │           │                 │
             └─────┬─────┴─────────┬───────┘
                   │               │
                   ▼               ▼
             ┌─────────────────────────────┐
             │       データベース       　　　│
             │  (ユーザー/チャット/文書情報)   │
             └─────────────────────────────┘

このアーキテクチャ図は、各コンポーネントがどのように連携し、ユーザーのリクエストが最終的に応答として返されるまでの流れを示しています。システムの各モジュールは独立性を保ちながらも、統合的なサービスとして連携し、ユーザーの問い合わせに対して迅速かつ正確な回答を提供します。

## 4. プロジェクトのデモ動画

 ### （コメント）動画貼る

## 5. 今後の展望

### 今後の展望

#### マルチモーダルモーダル検索
現在は主にテキスト（PDF, ノート）を扱っていますが、音声や画像、動画も検索対象にすることで、より幅広い情報を活用できるシステム を目指します。

#### カスタマイズ可能なナレッジベース
現在はPDFやノートを一括で管理する形ですが、ユーザーが自由にカスタマイズできるナレッジベースを作成できるようにする ことで、よりパーソナライズされた知識管理が可能にしたいです。

#### モバイル対応　アプリ化
現在のシステムはPCでの利用を想定していますが、スマートフォンやタブレットでの利用を最適化 することで、より多くの場面で活用できるようにしたいです。

#### チームコラボレーション機能
現在のシステムは個人向けのナレッジ管理が中心ですがチームやグループでの知識共有を機能を追加することで、団体での共通の知識を共有できる。

## 5. まとめ
### （コメント）ここ変える